!function(e,t){e(function(){function i(t,i){active_field=e(".ur-item-active"),target_input_field=e(active_field).find(".user-registration-field-option-group.ur-advance-setting-block"),ur_toggle_content=target_input_field.find(".ur-advance-setting.ur-advance-default_value"),target_input=e(ur_toggle_content).find('input[data-advance-field="'+t+'"]'),target_textarea=e(ur_toggle_content).find('input[data-advance-field="'+t+'"]'),target_input_hidden_field=e(active_field).find(".ur-general-setting-block"),ur_toggle_hidden_content=target_input_hidden_field.find(".ur-general-setting.ur-general-setting-hidden-value"),target_hidden_input=e(ur_toggle_hidden_content).find('input[data-field="'+t+'"]'),ur_toggle_pattern_content=target_input_field.find(".ur-advance-setting.ur-advance-pattern_value"),target_pattern_input=e(ur_toggle_pattern_content).find('input[data-advance-field="'+t+'"]'),target_input.val(i),target_textarea.val(i),target_hidden_input.val(i),target_pattern_input.val(i)}function n(e,i){var n=t.isPro,a=!0;if("user_pass"===e)if(n)var r=t.i18n_admin.i18n_auto_generate_password,s=t.i18n_admin.i18n_learn_more,l=t.ur_remove_password_field_link;else r=t.i18n_admin.i18n_delete_pass_available_in_pro,s=ur_setup_params.upgrade_button,l=t.ur_upgrade_plan_link;else{r=t.i18n_admin.i18n_default_cannot_delete_message,s=t.i18n_admin.i18n_ok;a=!1}var o='<i class="dashicons dashicons-trash" ></i><span class="user-registration-swal2-modal__title">'+i+t.i18n_admin.i18n_this_field_is_required;Swal.fire({customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered user-registration-upgrade",title:o,text:r,showCancelButton:a,cancelButtonText:t.i18n_admin.i18n_choice_cancel,showConfirmButton:!0,confirmButtonText:s,confirmButtonColor:"#475bb2 !important"}).then(function(e){e.isConfirmed&&l&&window.open(l,"_blank")})}var a={init:function(){t.i18n_admin;a.init_user_profile_modal(),a.init_form_builder(),e(document).on("click",'ul.ur-tab-lists li[aria-controls="ur-tab-field-options"]',function(){e(".ur-selected-inputs").find("form#ur-field-settings").hide(),e(".ur-builder-wrapper-content").show(),e(".ur-builder-wrapper-footer").show(),0==e(".ur-selected-item.ur-item-active").length&&a.handle_selected_item(e(".ur-selected-item:first"))}),e(document).on("click",".ur-selected-item",function(){a.handle_selected_item(e(this))}),t.is_form_builder&&(e(window).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&("s"===String.fromCharCode(e.which).toLowerCase()||83===e.which))return e.preventDefault(),a.ur_save_form(),!1}),e(window).on("keydown",function(e){(e.ctrlKey||e.metaKey)&&("p"!==String.fromCharCode(e.which).toLowerCase()&&80!==e.which||(e.preventDefault(),window.open(t.ur_preview)))}),e(window).on("keydown",function(e){(e.ctrlKey||e.metaKey)&&("u"!==String.fromCharCode(e.which).toLowerCase()&&85!==e.which||(e.preventDefault(),window.open(t.ur_user_list_table)))}),e(window).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&("h"===String.fromCharCode(e.which).toLowerCase()||85===e.which))return e.preventDefault(),a.ur_show_help(),!1})),e("#ur-keyboard-shortcut-link").on("click",function(t){t.preventDefault(),e(".ur-quick-links-content").slideToggle(),a.ur_show_help()}),e(".ur_save_form_action_button").on("click",function(){a.ur_save_form()}),e(".ur-embed-form-button").on("click",function(){e(this).find(".ur-spinner").length>0||a.ur_embed_form(e(this))}),e(document).on("click",".ur-message .ur-message-close",function(){$message=e(this).closest(".ur-message"),a.removeMessage($message)}),a.init_choice_field_options(),e(document).ready(function(){var i=window.location.search,n=new URLSearchParams(i),r=n.get("page"),s=n.get("edit-registration"),l=n.get("form_id"),o=e(".user-registration-setup").length,d=document.referrer.split("page=")[1],c="true"===localStorage.getItem("formUpdated_"+s);"add-new-registration"!==r||null!==s&&(null===s||"add-new-registration"!==d||null===l)||0!==o||c||(e(".ur_save_form_action_button").text(t.i18n_publish_form_button_text),a.ur_show_help())}),e(document.body).on("click",".ur-toggle-bulk-options",function(t){t.preventDefault(),$this=e(this);var i="";i+='<div class="ur-bulk-options-container">',i+='<div class="ur-general-setting ur-setting-textarea ur-general-setting-bulk-options ur-bulk-options-container"><label for="ur-type-textarea">'+$this.data("bulk-options-label")+'<span class="ur-portal-tooltip tooltipstered" data-tip="'+$this.data("bulk-options-tip")+'"></span></label>',i+='<textarea data-field="description" class="ur-general-setting-field ur-type-textarea"></textarea></div>',i+='<a class="button button-small ur-add-bulk-options" href="#">'+$this.data("bulk-options-button")+"</a></div>",$this.parent().next(".ur-bulk-options-container").length?"none"===$this.parent().next(".ur-bulk-options-container").css("display")?$this.parent().next(".ur-bulk-options-container").show():$this.parent().next(".ur-bulk-options-container").hide():e(i).insertAfter($this.parent()).trigger("init_tooltips")}),e(document.body).on("click",".ur-add-bulk-options",function(t){t.preventDefault();var i=e(this).parent().next(".ur-options-list"),n=e(this).parent(".ur-bulk-options-container");if(i.length){var r=n.find(".ur-type-textarea").val().replace(/<\/?[^>]+(>|$)/g,"").split("\n");(r=e.unique(r)).forEach(function(e){if(""!==e){var t=i.find("li").last().find("a.add");a.add_choice_field_option(t,e.trim())}}),n.find(".ur-type-textarea").val("")}})},init_user_profile_modal:function(){({init:function(){e(document.body).on("click",".column-data_link a",this.add_item).on("ur_backbone_modal_loaded",this.backbone.init).on("ur_backbone_modal_response",this.backbone.response)},add_item:function(t){return t.preventDefault(),e(this).URBackboneModal({template:"test-demo"}),!1},backbone:{init:function(e,t){},response:function(e,t){}}}).init()},ur_save_form:function(){var i=a.get_validation_status();if(!1!==i.validation_status){"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var n=a.get_form_data(),r=a.get_form_row_data(),s=!1;if(e.each(r,function(){e(this)[0].fields.length<1&&(a.show_message(t.form_repeater_row_empty),s=!0)}),!s){var l=a.get_form_row_ids(),o=e("#ur_form_id").val(),d=t.post_id;a.ur_parse_int(d,0)!==a.ur_parse_int(o,0)&&(o=0);var c=e("#ur-field-settings :not(.urcl-user-role-field, .uret-override-content-field, .ur_mailerlite_settings)").serializeArray(),u=a.get_form_conditional_role_data(),_=a.get_form_conditional_submit_data(),f=a.get_form_email_content_override_data(),g=a.get_form_restriction_submit_data(),p=e("#ur-multi-part-page-settings").serializeArray(),m=e("#user_registration_profile_completeness_custom_percentage_field input, #user_registration_profile_completeness_custom_percentage_field select").serializeArray(),h=e("#urfr_max_limit_user_registration_value, #urfr_max_limit_user_registration_period, #urfr_password_restriction, #urfr_age_criteria_equation").serializeArray(),v={action:"user_registration_form_save_action",security:t.ur_form_save,data:{form_data:JSON.stringify(n),row_data:JSON.stringify(r),form_row_ids:JSON.stringify(l),form_name:e("#ur-form-name").val(),form_id:o,form_setting_data:c,conditional_roles_settings_data:u,conditional_submit_settings_data:_,email_content_override_settings_data:f,multipart_page_setting:p,profile_completeness__custom_percentage:m,form_restriction_extra_settings_data:h,form_restriction_submit_data:g}};if(e(document).trigger("user_registration_admin_before_form_submit",[v]),"undefined"==typeof v.data.ur_payment_disabled||!1!==v.data.ur_payment_disabled[0].validation_status)if("undefined"==typeof v.data.ur_invalid_currency_status||!1!==v.data.ur_invalid_currency_status[0].validation_status){if(v.data.ur_google_sheets_integration!==undefined&&(google_sheets_connections=v.data.ur_google_sheets_integration,google_sheets_connections.length>0&&google_sheets_connections[0].hasOwnProperty("mapped_fields"))){var b=google_sheets_connections[0].mapped_fields;if(e.isEmptyObject(b))return void a.show_message(t.i18n_admin.i18n_google_sheets_sheet_empty_error);var k=!1;for(var y in b)if(b.hasOwnProperty(y)&&"user_email"===b[y]){k=!0;break}if(!k)return void a.show_message(t.i18n_admin.i18n_google_sheets_user_email_missing_error)}if(0!=e("#user_registration_profile_completeness_completion_percentage",e(document)).length){var w=parseFloat(e("#user_registration_profile_completeness_completion_percentage",e(document)).val().replace(/[^\d\.]/g,"").replace(/\.(([^\.]*)\.)*/g,".$2"));if(w<=0)return void a.show_message(t.i18n_admin.i18n_pc_profile_completion_error);var x=0;if(e.each(m,function(e,t){"user_registration_profile_completeness_custom_percentage_field[]"==t.name&&""!==t.value&&(x+=parseFloat(m[e+1].value))}),x>w)return void a.show_message(t.i18n_admin.i18n_pc_custom_percentage_filed_error)}e.ajax({url:t.ajax_url,data:v,type:"POST",beforeSend:function(){e(".ur_save_form_action_button").append('<span class="ur-spinner is-active"></span>'),e(".ur-notices").remove()},complete:function(i){if(e(".ur_save_form_action_button").find(".ur-spinner").remove(),!0===i.responseJSON.success){var n=t.i18n_admin.i18n_form_successfully_saved;if(t.is_edit_form)a.show_message(n,"success"),0===parseInt(o)&&(window.location=t.admin_url+i.responseJSON.data.post_id);else{message_body="<p>Want to create a login form as well? Check this <a rel='noreferrer noopener' target='_blank' href='https://docs.wpuserregistration.com/registration-form-and-login-form/how-to-show-login-form/'>link</a>. To know more about other cool features check our <a rel='noreferrer noopener' target='_blank' href='https://docs.wpuserregistration.com/'>docs</a>.</p>",Swal.fire({icon:"success",title:"Form successfully created.",html:message_body}).then(function(e){0===parseInt(o)&&(window.location=t.admin_url+i.responseJSON.data.post_id)})}}else{var r=i.responseJSON.data.message;a.show_message(r)}e(".ur_save_form_action_button").text(t.i18n_update_form_button_text),localStorage.setItem("formUpdated_"+o,!0)}}).fail(function(){Swal.fire({icon:"error",title:t.ajax_form_submit_error_title,html:"<br />"+t.ajax_form_submit_error,customClass:"user-registration-swal2-modal user-registration-swal2-modal--center",confirmButtonText:"Troubleshoot",allowOutsideClick:!1,showCloseButton:!0}).then(function(e){e.isConfirmed&&window.open(t.ajax_form_submit_troubleshooting_link)})})}else a.show_message(v.data.ur_invalid_currency_status[0].validation_message);else a.show_message(v.data.ur_payment_disabled[0].validation_message)}}else a.show_message(i.message)},ur_embed_form:function(i){var n={action:"user_registration_embed_page_list",security:t.ur_embed_page_list};e.ajax({url:t.ajax_url,data:n,type:"POST",beforeSend:function(){i.append('<span class="ur-spinner is-active"></span>'),e(".ur-notices").remove()},success:function(n){function a(){var i='<div class=""><p>'+t.i18n_admin.i18n_embed_description+"</p></div>";Swal.fire({icon:"info",title:t.i18n_admin.i18n_embed_form_title,html:i,showCancelButton:!0,confirmButtonText:t.i18n_admin.i18n_embed_to_existing_page,cancelButtonText:t.i18n_admin.i18n_embed_to_new_page,showCloseButton:!0,customClass:"user-registration-swal2-modal  user-registration user-registration-swal2-modal--center user-registrationswal2-icon-content-info user-registration-info swal2-show"}).then(function(i){var r=e(".ur-embed-form-button").attr("data-form_id");i.isConfirmed?function(i,n){var r='<div class="ur-embed-select-existing-page-container"><p>'+t.i18n_admin.i18n_embed_existing_page_description+'</p><select name="ur-embed-select-existing-page-name" id="ur-embed-select-existing-page-name">',s="<option disabled selected>Select Page</option>";i.data.forEach(function(e){s+='<option data-id="'+e.ID+'" value="'+e.ID+'">'+e.post_title+"</option>"});modelContent=r+s+"</select>",Swal.fire({icon:"info",title:t.i18n_admin.i18n_embed_form_title,html:modelContent,showCloseButton:!0,showCancelButton:!0,cancelButtonText:t.i18n_admin.i18n_embed_go_back_btn,confirmButtonText:t.i18n_admin.i18n_embed_lets_go_btn,cancelButtonText:t.i18n_admin.i18n_embed_go_back_btn,customClass:"user-registration-swal2-modal  user-registration user-registration-swal2-modal--center user-registration-info swal2-show"}).then(function(i){if(i.isDismissed)a();else if(i.isConfirmed){var r=e("#ur-embed-select-existing-page-name").val(),s={action:"user_registration_embed_form_action",security:t.ur_embed_action,page_id:r,form_id:n};e.ajax({url:t.ajax_url,type:"POST",data:s,success:function(e){e.success&&(window.location=e.data)}})}})}(n,r):i.dismiss===Swal.DismissReason.cancel&&function(i){var n='<div class="ur-embed-new-page-container"><p>'+t.i18n_admin.i18n_embed_new_page_description+"</p>";modelContent=n+'<div style="min-width:400px; width:100%;"><input type="text" name="page_title" /></div>',Swal.fire({icon:"info",title:t.i18n_admin.i18n_embed_form_title,html:modelContent,showCancelButton:!0,confirmButtonText:t.i18n_admin.i18n_embed_lets_go_btn,cancelButtonText:t.i18n_admin.i18n_embed_go_back_btn,customClass:"user-registration-swal2-modal  user-registration user-registration-swal2-modal--center user-registration-info swal2-show"}).then(function(n){if(n.isDismissed)a();else if(n.isConfirmed){var r=e("[name='page_title']").val(),s={action:"user_registration_embed_form_action",security:t.ur_embed_action,page_title:r,form_id:i};e.ajax({url:t.ajax_url,type:"POST",data:s,success:function(e){e.success&&(window.location=e.data)}})}})}(r)})}i.find(".ur-spinner").remove(),a()}})},ur_show_help:function(){if(e(".jconfirm").length)jc.close();else{var i="<ul>";e.each(t.i18n_shortcut_keys,function(e,t){i+='<li class="ur-shortcut-keyword"><div class="ur-shortcut-title">'+t+'</div><div class="ur-key"><span class="ur-key-ctrl">'+e.split("+")[0]+'</span><i class="ur-key-plus"> + </i><span class="ur-key-character"><b>'+e.split("+")[1]+"</b></span></div></li>"}),i+="</ul>",jc=e.dialog({title:t.i18n_shortcut_key_title,content:i,icon:"dashicons dashicons-info",type:"blue",useBootstrap:"false",boxWidth:"550px",buttons:{confirm:{text:t.i18n_close,btnClass:"btn-confirm",keys:["enter"]}},escapeKey:!0,backgroundDismiss:function(){return!0},theme:"material"})}},get_validation_status:function(){var i=e.makeArray(t.form_one_time_draggable_fields),n=e.makeArray(t.form_required_fields);e("#user_registration_pro_auto_password_activate").is(":checked")&&n.splice(n.indexOf("user_pass"),1);var a={validation_status:!0,message:""};if(0===e(".ur-selected-item").length)return a.validation_status=!1,a.message=t.i18n_admin.i18n_at_least_one_field_need_to_select,a;if(""===e("#ur-form-name").val())return a.validation_status=!1,a.message=t.i18n_admin.i18n_empty_form_name,a;if(e("#user_registration_enable_stripe").is(":checked")&&e("#user_registration_enable_stripe_recurring").is(":checked")&&e(".ur-input-type-coupon-field").length>0)return e("#user_registration_enable_stripe_recurring").prop("checked",!1),a.validation_status=!1,a.message=t.i18n_admin.i18n_no_stripe_for_coupon,a;if(e(".ur_save_form_action_button").find(".ur-spinner").length>0)return a.validation_status=!1,a.message=t.i18n_admin.i18n_previous_save_action_ongoing,a;if(e("#user_registration_form_setting_minimum_password_strength_Custom").is(":checked")){if(e("#user_registration_form_setting_form_minimum_pass_length").val()<6)return a.validation_status=!1,a.message=t.i18n_admin.i18n_min_custom_password_length_error,a;["minimum_uppercase","minimum_digits","minimum_special_chars","max_char_repeat_length"].forEach(function(i){if(e("#user_registration_form_setting_form_"+i).val()<0){a.validation_status=!1;var n=i.replace(/_/g," ");return n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(n),a.message=n+" "+t.i18n_admin.i18n_custom_password_negative_value_error,a}})}e.each(e(".ur-selected-item select.ur-settings-selected-countries"),function(){var i=e(this).val();if(!i||Array.isArray(i)&&0===i.length)return a.validation_status=!1,a.message=t.i18n_admin.i18n_select_countries,a}),e.each(e('.ur-input-grids .ur-general-setting-block input[data-field="field_name"]'),function(){var i,n=e(this),r=!1;try{var s=n.val();if(e(".ur-input-grids .ur-general-setting-block").find('input[data-field="field_name"][value="'+s+'"]').length>1)throw t.i18n_admin.i18n_duplicate_field_name;if(""===n.closest(".ur-general-setting-block").find('input[data-field="label"]').val())throw n=n.closest(".ur-general-setting-block").find('input[data-field="label"]'),t.i18n_admin.i18n_empty_field_label;var l=s.match(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/gm);if(null===l||1!==l.length||l[0]!==s)throw t.i18n_admin.i18n_invald_field_name}catch(o){a.validation_status=!1,a.message=o.message===undefined?o:o.message,n.closest(".ur-selected-item").trigger("click"),i=n.attr("data-field"),e("#ur-setting-form").find('input[data-field="'+i+'"]').css({border:"1px solid red"}),setTimeout(function(){e("#ur-setting-form").find('input[data-field="'+i+'"]').removeAttr("style")},2e3),r=!0}if(r)return!1});for(var r=0;r<i.length;r++)if(e(".ur-input-grids").find('.ur-field[data-field-key="'+i[r]+'"]').length>1){a.validation_status=!1,a.message=t.i18n_admin.i18n_multiple_field_key+i[r];break}if("sms_verification"===e("#user_registration_form_setting_login_options").val()){n=n.concat(["phone_fields"])}var s=e("#user_registration_enable_paypal_standard"),l=e("#user_registration_enable_stripe"),o=e("#user_registration_enable_authorize_net");if(s.is(":checked")){n=n.concat(["payment_fields"])}else if(l.is(":checked")){n=n.concat(["payment_fields","stripe_gateway"])}else if(o.is(":checked")){n=n.concat(["payment_fields","authorize_net_gateway"])}for(var d=0;d<n.length;d++)if("phone_fields"===n[d]){if(e(".ur-input-grids").find('.ur-field[data-field-key="phone"]').length<1){a.validation_status=!1;var c=t.i18n_admin.i18n_phone_field;a.message=c+" "+t.i18n_admin.i18n_field_is_required;break}e("user_registration_form_setting_default_phone_field").val()}else if("payment_fields"===n[d]){var u=e(".ur-input-grids").find('.ur-field[data-field-key="multiple_choice"]').length,_=e(".ur-input-grids").find('.ur-field[data-field-key="subscription_plan"]').length,f=e(".ur-input-grids").find('.ur-field[data-field-key="single_item"]').length,g=e(".ur-input-grids").find(".ur-payment-slider-sign:visible").length;if(_<1&&u<1&&f<1&&g<1){a.validation_status=!1;c=t.i18n_admin.i18n_payment_field;a.message=c+" "+t.i18n_admin.i18n_field_is_required;break}}else if(0===e(".ur-input-grids").find('.ur-field[data-field-key="'+n[d]+'"]').length){if(a.validation_status=!1,0===d)c=t.i18n_admin.i18n_user_email;else if(1===d)c=t.i18n_admin.i18n_user_password;else if("authorize_net_gateway"===n[d])c=t.i18n_admin.i18n_anet_field;else c=t.i18n_admin.i18n_stripe_field;a.message=c+" "+t.i18n_admin.i18n_field_is_required;break}return e.each(e(".ur-input-grids").find('.ur-field[data-field-key="text"]'),function(){var i=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-size").val(),n=e(this).closest(".ur-selected-item").find(".ur-label label").html();i<1&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_input_size)}),e.each(e(".ur-input-grids").find('.ur-field[data-field-key="password"]'),function(){var i=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-size").val(),n=e(this).closest(".ur-selected-item").find(".ur-label label").html();i<1&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_input_size)}),e.each(e(".ur-input-grids").find('.ur-field[data-field-key="file"]'),function(){var i=e(this).closest(".ur-selected-item").find(".ur-general-setting-block .ur-general-setting-maximum-number-limit-on-uploads input").val(),n=e(this).closest(".ur-selected-item").find(".ur-label label").html();i<1&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_input_size);var r=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block input[data-id='file_advance_setting_max_upload_size']").val(),s=t.max_upload_size_ini;parseInt(r)>parseInt(s)&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_max_upload_size)}),e.each(e(".ur-input-grids").find('.ur-field[data-field-key="number"]'),function(){var i=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-size").val(),n=e(this).closest(".ur-selected-item").find(".ur-label label").html();i<1&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_input_size);var r=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-min").val(),s=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-max").val();parseFloat(r)>parseFloat(s)&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_min_max_input)}),e.each(e(".ur-input-grids").find('.ur-field[data-field-key="timepicker"]'),function(){var i=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-time_interval").val(),n=(e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-time_format").val(),e(this).closest(".ur-selected-item").find(".ur-label label").html());i<1&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_input_size)}),e.each(e(".ur-input-grids").find('.ur-field[data-field-key="range"]'),function(){var i=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-step").val(),n=e(this).closest(".ur-selected-item").find(".ur-label label").html();i<1&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_input_size);var r=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-min").val(),s=e(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-max").val();parseFloat(r)>parseFloat(s)&&(a.validation_status=!1,a.message=n+" "+t.i18n_admin.i18n_min_max_input)}),e("#urfr_enable_verification").is(":checked")&&"qna"===e("#urfr_verification_type").val()&&(e(".urfr-qna-question-wrapper").length<1&&(a.validation_status=!1,a.message=t.i18n_admin.i18n_urfr_field_required_error),e.each(e(".urfr-qna-block"),function(){var i=e(this).find("input[name='urfr_qna_question']").val(),n=e(this).find("input[name='urfr_qna_answer']").val();""!==i&&""!==n||(a.validation_status=!1,a.message=t.i18n_admin.i18n_urfr_qna_field_empty_error)})),a},show_message:function(i,n){var r=e(".ur-form-container").find(".ur-builder-message-container"),s=e("#wpadminbar"),l="";0===r.length&&(e(".ur-form-container").append('<div class="ur-builder-message-container"></div>'),(r=e(".ur-form-container").find(".ur-builder-message-container")).css({top:s.height()+"px"})),"success"===n?l='<div class="ur-message"><div class="ur-success"><p><strong>'+t.i18n_admin.i18n_success+"! </strong>"+i+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>':(e(".ur-error").remove(),l='<div class="ur-message"><div class="ur-error"><p><strong>'+t.i18n_admin.i18n_error+"! </strong>"+i+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>');var o=e(l).prependTo(r);setTimeout(function(){o.addClass("entered")},50),1==e(".ur-error").find(".ur-captcha-error").length?(e(".ur-error").css("width","490px"),setTimeout(function(){a.removeMessage(o)},5e3)):setTimeout(function(){a.removeMessage(o)},3e3)},removeMessage:function(e){e.removeClass("entered").addClass("exiting"),setTimeout(function(){e.remove()},120)},get_form_data:function(){var t=[],i=e(".ur-input-grids .ur-single-row");return e.each(i,function(){var i=e(this).find(".ur-grid-list-item"),n=[];e.each(i,function(){var t=e(this),i=a.get_grid_wise_data(t);n.push(i)}),t.push(n)}),t},get_form_row_data:function(){var t=[],i=e(".ur-input-grids .ur-single-row");return e.each(i,function(){var i={};if(e(this).attr("data-repeater-id")){i.row_id=e(this).attr("data-row-id"),i.repeater_id=e(this).attr("data-repeater-id"),i.type="repeater";var n=e("#ur-repeater-settings").serializeArray();e.each(n,function(e,t){t.name.includes("_"+i.repeater_id)&&(i[t.name.replace("user_registration_repeater_row_","").replace("_"+i.repeater_id,"")]=t.value)});var a=[];e(this).find("input[data-field='field_name']").each(function(){a.push(e(this).val())}),i.fields=a,t.push(i)}}),t},get_grid_wise_data:function(t){var i=t.find(".ur-selected-item"),n=[];return e.each(i,function(){var t=e(this),i=t.find(".ur-field").attr("data-field-key"),r=e("li[data-field-id ='"+("user_registration_"+i)+"']").find(".ur-icon").attr("class"),s={field_key:i,general_setting:a.get_field_general_setting(t),advance_setting:a.get_field_advance_setting(t),icon:r};n.push(s)}),n},get_field_general_setting:function(t){var i=t.find(".ur-general-setting-block").find(".ur-general-setting-field"),n={},r=[],s=[],l=[];return e.each(i,function(){var t=e(this).closest(".ur-general-setting").hasClass("ur-setting-checkbox");if("options"===e(this).attr("data-field")){if("multiple_choice"===e(this).attr("data-field-name")){var i=[];(u=e(this).closest("ul").find("li")).each(function(t,a){var r=e(a).find("input.ur-type-checkbox-label").val(),s=e(a).find("input.ur-type-checkbox-money-input").val(),l=e(a).find("input.ur-checkbox-selling-price-input").val(),o=e(a).find("input.ur-type-image-choice").val();i.every(function(e){return e.label!==r})&&(n.options=i.push({label:r,value:s,sell_value:l,image:o})),n.options=i})}else if("image-choice"===e(this).attr("data-field-name")){i=[];(u=e(this).closest("ul").find("li")).each(function(t,n){var a=e(n).find("input.ur-type-radio-label,input.ur-type-checkbox-label").val(),r=e(n).find("input.ur-type-image-choice").val();i.every(function(e){return e.label!==a})&&i.push({label:a,image:r})}),n.image_options=i;var o=a.get_ur_data(e(this)).trim();r.every(function(e){return e!==o})&&(n.options=r.push(o));var d=r.filter(Boolean);n.options=d}else if("subscription_plan"===e(this).attr("data-field-name")){i=[];(u=e(this).closest("ul").find("li")).each(function(t,a){var r=e(a).find("input.ur-type-radio-label").val(),s=e(a).find("input.ur-type-radio-money-input").val(),l=e(a).find("input.ur-radio-selling-price-input").val(),o=e(a).find("input.ur-radio-interval-count-input").val(),d=e(a).find(".ur-radio-recurring-period").val(),c=e(a).find("input.ur-radio-trail-interval-count-input").val(),u=e(a).find("input.ur-subscription-expiry-date").val().toString(),_=e(a).find(".ur-radio-trail-recurring-period").val(),f=e(a).find(".ur-radio-enable-expiry-date").val(),g=e(a).find(".ur-radio-enable-trail-period").val();i.every(function(e){return e.label!==r})&&(n.options=i.push({label:r,value:s,sell_value:l,interval_count:o,recurring_period:d,trail_period_enable:g,trail_interval_count:c,trail_recurring_period:_,subscription_expiry_date:u,subscription_expiry_enable:f})),n.options=i})}else if("captcha"===e(this).attr("data-field-name")){var c=[];(u=e(this).closest("ul").find("li")).each(function(t,i){var a=e(i).find("input.ur-type-captcha-question").val(),r=e(i).find(".ur-type-captcha-answer").val();c.every(function(e){return e.question!==a})&&(n.options=c.push({question:a,answer:r})),n.options=c})}else o=a.get_ur_data(e(this)).trim();r.every(function(e){return e!==o})&&(n.options=r.push(o),n.options=r)}else if("default_value"===e(this).attr("data-field"))!0===t?e(this).is(":checked")&&(n.default_value=s.push(a.get_ur_data(e(this))),n.default_value=s):e(this).is(":checked")&&(n.default_value=a.get_ur_data(e(this)));else if("html"===e(this).attr("data-field"))n[e(this).attr("data-field")]=a.get_ur_data(e(this)).replace(/"/g,"'");else if("image_captcha_options"===e(this).attr("data-field")){var u=e(this).closest("ul").find("li"),_=e(this).closest("ul").attr("data-unique-captcha"),f=[];e.each(u,function(t,i){if("undefined"==typeof l[t]||"undefined"==typeof l[t].icon_tag||"undefined"==typeof l[t]["icon-2"]||"undefined"==typeof l[t]["icon-1"]||"undefined"==typeof l[t]["icon-3"]){var n=e(i).find(".icons-group").find(".icon-wrap");f.correct_icon=e(i).find('input[name="ur_general_setting[captcha_image]['+t+"][correct_icon]["+_+']"]:checked').val(),f.icon_tag=e(i).find('input[name="ur_general_setting[captcha_image]['+t+'][icon_tag]"]').val(),e.each(n,function(i,n){var a=i+1;f["icon-"+a]=e(n).find('input:hidden[name="ur_general_setting[captcha_image]['+t+"][icon-"+a+']"]').val()}),l.push({"icon-1":f["icon-1"],"icon-2":f["icon-2"],"icon-3":f["icon-3"],icon_tag:f.icon_tag,correct_icon:f.correct_icon})}}),n.image_captcha_options=l}else n[e(this).attr("data-field")]=a.get_ur_data(e(this))}),n},get_field_advance_setting:function(t){var i=t.find(".ur-advance-setting-block").find(".ur_advance_setting"),n={};return e.each(i,function(){n[e(this).attr("data-advance-field")]=a.get_ur_data(e(this))}),n},get_ur_data:function(e){var t="";switch(e.get(0).tagName.toLowerCase()){case"input":switch(e.attr("type")){case"checkbox":t=e.is(":checked"),e.hasClass("ur-type-checkbox-value")&&(t=e.val()),e.hasClass("ur-type-toggle")&&!t&&(t="false");break;default:e.hasClass("ur-type-image-choice")||e.hasClass("ur-subscription-expiry-date")||(t=e.val())}break;case"select":case"textarea":t=e.val()}return t},get_form_row_ids:function(){var t=[],i=e(".ur-input-grids .ur-single-row");return e.each(i,function(){t.push(e(this).attr("data-row-id"))}),t},ur_parse_int:function(e){return parseInt(e,0)},ur_math_ceil:function(e){return Math.ceil(e,0)},get_form_restriction_submit_data:function(){var t=e(".urfr-qna-block").map(function(t,i){return{question:e(i).find('input[name="urfr_qna_question"]').val(),answer:e(i).find('input[name="urfr_qna_answer"]').val()}}).get();return JSON.stringify(t)},get_form_conditional_role_data:function(){var t=[],i=e(".urcl-role-logic-wrap");return e.each(i,function(){var i=e(this).find(".urcl-user-role-field"),n=[],a=[],r="";e.each(i,function(){$field_key=e(this).attr("name").split("["),"user_registration_form_conditional_user_role"===$field_key[0]&&(r=e(this).val(),i.splice(e(this),1))});var s=e(this).find(".urcl-conditional-group");e.each(s,function(){var t=[],i=e(this).find(".urcl-user-role-field");e.each(i,function(){var i={field_key:e(this).attr("name"),field_value:e(this).val()};t.push(i)}),n.push(t)});var l=e(this).find(".urcl-or-groups");e.each(l,function(){var t=e(this).find(".urcl-conditional-or-group"),i=[];e.each(t,function(){var t=[],n=e(this).find(".urcl-user-role-field");e.each(n,function(){var i={field_key:e(this).attr("name"),field_value:e(this).val()};t.push(i)}),i.push(t)}),a.push(i)});var o={assign_role:r,conditions:n,or_conditions:a};t.push(o)}),t},get_form_conditional_submit_data:function(){var t=[],i=e(".urcl-submit-logic-wrap");return e.each(i,function(){var i=e(this).find(".urcl-submit-field"),n=[],a=[],r="";e.each(i,function(){$field_key=e(this).attr("name").split("["),"user_registration_form_conditional_submit"===$field_key[0]&&(r=e(this).val(),i.splice(e(this),1))});var s=e(this).find(".urcl-conditional-group");e.each(s,function(){var t=[],i=e(this).find(".urcl-submit-field");e.each(i,function(){var i={field_key:e(this).attr("name"),field_value:e(this).val()};t.push(i)}),n.push(t)});var l=e(this).find(".urcl-or-groups");e.each(l,function(){var t=e(this).find(".urcl-conditional-or-group"),i=[];e.each(t,function(){var t=[],n=e(this).find(".urcl-submit-field");e.each(n,function(){var i={field_key:e(this).attr("name"),field_value:e(this).val()};t.push(i)}),i.push(t)}),a.push(i)});var o={action:r,conditions:n,or_conditions:a};t.push(o)}),t},get_form_email_content_override_data:function(){var t={},i=e(".user-registration-email-template-content-wrap");return e.each(i,function(){var i=e(this).find(".user-registration-card__header"),n=e(this).find(".user-registration-card__body");t[e(this).prop("id")]={title:i.find(".user-registration-card__title ").text(),description:i.find(".user-registration-help-tip").data("description"),override:i.find("#uret_override_"+e(this).prop("id")).hasClass("enabled")?1:0,subject:n.find(".uret_subject_input").val(),content:n.find("#user_registration_"+e(this).prop("id")+"_content").val()}}),t},init_form_builder:function(){e.fn.ur_form_builder=function(){var i={active_grid:t.active_grid,number_of_grid_list:t.number_of_grid,min_grid_height:70};return this.each(function(){var r=e(this),s={init:function(){this.single_row(),this.manage_required_fields(),this.manage_label_hidden_fields(),this.manage_image_choice_class()},single_row:function(){if(!t.is_edit_form){var n=e("<div class='ur-single-row'/ data-row-id=\"0\">");n.append(e("<div class='ur-grids'/>"));var a=this.get_grid_button();n.find(".ur-grids").append(a),n.find(".ur-grids").find('span[data-id="'+i.active_grid+'"]').addClass("ur-active-grid");var o=this.get_grid_lists(i.active_grid);n.append('<div style="clear:both"></div>'),n.append(o),n.append('<div style="clear:both"></div>'),r.append(n),e(".ur-single-row").eq(0).find(".ur-grid-lists").eq(0).find(".ur-grid-list-item").eq(0).find(".user-registration-dragged-me").remove(),e(".ur-single-row").eq(0).find(".ur-grid-lists").eq(0).find(".ur-grid-list-item").eq(0).append(t.required_form_html)}if(0==r.find(".ur-add-new-row").length){r.append('<button type="button" class="button button-primary dashicons dashicons-plus-alt ur-add-new-row ui-sortable-handle">'+t.add_new+"</button>");var d=r.find(".ur-add-new-row").siblings(".ur-single-row").last().prev().attr("data-row-id");r.find(".ur-row-buttons").attr("data-total-rows",d)}l.render_draggable_sortable(),s.manage_empty_grid(),s.manage_draggable_users_fields()},get_grid_button:function(){var t=e('<div class="ur-grid-containner"/>'),i='<button type="button" class="ur-edit-grid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg></button>';return i+='<button type="button" class="dashicons dashicons-no-alt ur-remove-row"></button>',i+='<div class="ur-toggle-grid-content" style="display:none">',i+="<small>Select the grid column.</small>",i+='<div class="ur-grid-selector" data-grid = "1">',i+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg>',i+="</div>",i+='<div class="ur-grid-selector" data-grid = "2">',i+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M17,4H2V28H30V4ZM4,26V6H15V26Zm24,0H17V6H28Z"/></svg>',i+="</div>",i+='<div class="ur-grid-selector" data-grid = "3">',i+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M22,4H2V28H30V4ZM4,26V6h6V26Zm8,0V6h8V26Zm16,0H22V6h6Z"/></svg>',i+="</div>",i+="</div>",t.html(i),t.html()},get_grid_lists:function(t){for(var n=e('<div class="ur-grid-lists"/>'),a=1;a<=t;a++){var r=e("<div ur-grid-id='"+a+"' class='ur-grid-list-item'></div>"),s=Math.floor(100/t)-t;r.css({width:s+"%","min-height":i.min_grid_height+"px"}),n.append(r)}return n.append('<div style="clear:both"></div>'),n.find(".ur-grid-list-item").eq("0").css({}),n},manage_label_hidden_fields:function(){e('input[data-field="hide_label"]').each(function(){e(this).is(":checked")?e(this).closest(".ur-selected-item").find(".ur-label").find("label").hide():e(this).closest(".ur-selected-item").find(".ur-label").find("label").show()})},manage_image_choice_class:function(){e('input[data-field="image_choice"]').each(function(){e(this).is(":checked")?e(this).closest(".ur-selected-item").find(".ur-admin-template").find(".ur-field").addClass("user-registration-image-options"):e(this).closest(".ur-selected-item").find(".ur-admin-template").find(".ur-field").removeClass("user-registration-image-options")})},manage_required_fields:function(){var i=t.form_required_fields,n=e(".ur-input-grids");if(Array.isArray(i))for(var a=0;a<i.length;a++){var r=n.find('.ur-field[data-field-key="'+i[a]+'"]');r.closest(".ur-selected-item").find('input[data-field="required"]').trigger("change"),r.closest(".ur-selected-item").find('input[data-field="required"]').attr("disabled","disabled")}n.find(".ur-selected-item").each(function(){if(e(this).find('input[data-field="required"]').is(":checked")){var t=e(this).find(".ur-label").find("label");t.find("span:contains('*')").remove(),t.append('<span style="color:red">*</span>')}})},manage_empty_grid:function(){var t=e(".ur-input-grids"),i=e('<div class="user-registration-dragged-me"/>');t.find(".user-registration-dragged-me").remove(),e.each(t.find(".ur-grid-list-item"),function(){var t=e(this);0===e(this).find(".ur-selected-item").length&&t.append(i.clone())})},manage_draggable_users_fields:function(){var i=t.form_one_time_draggable_fields,n=e("#ur-tab-registered-fields").find("ul.ur-registered-list");e.each(n.find("li"),function(){var t=e(this),n=e(this).attr("data-field-id").replace("user_registration_","");e.inArray(n,i)>=0&&(!t.hasClass("ur-locked-field")||t.hasClass("ur-locked-field")&&t.hasClass("ur-one-time-draggable-disabled"))&&(e(".ur-input-grids").find('.ur-field[data-field-key="'+n+'"]').length>0?(t.draggable("disable"),t.addClass("ur-locked-field"),t.addClass("ur-one-time-draggable-disabled")):(t.draggable("enable"),t.removeClass("ur-locked-field"),t.removeClass("ur-one-time-draggable-disabled")))});var a=n.find(".ur-locked-field");e.each(a,function(){(r=e(this)).draggable("disable")})},populate_dropped_node:function(i,n){var r=e("#ur_form_id").val(),l={action:"user_registration_user_input_dropped",security:t.user_input_dropped,form_field_id:n,form_id:r},o='<div class="ur-selected-item ajax_added"><div class="ur-action-buttons"><span title="Clone" class="dashicons dashicons-admin-page ur-clone"></span><span title="Trash" class="dashicons dashicons-trash ur-trash"></span></div>(content)</div>';i.closest(".ur-single-row").find(".user-registration-dragged-me").fadeOut(),e.ajax({url:t.ajax_url,data:l,type:"POST",beforeSend:function(){i.removeAttr("class").removeAttr("id").removeAttr("data-field-id").addClass("ur-selected-item").css({width:"auto"}),i.html('<small class="spinner is-active"></small>'),i.addClass("ur-item-dragged")},complete:function(t){if(s.manage_empty_grid(),!0===t.responseJSON.success){var n=e(o.replace("(content)",t.responseJSON.data.template));n.removeClass("ajax_added"),n.removeClass("ur-item-dragged"),i.find(".ajax_added").find(".spinner").remove(),i.find(".ajax_added").remove(),e(n).insertBefore(i),i.remove()}s.manage_draggable_users_fields();var r=n.closest(".ur-selected-item ").find("[data-field='field_name']").val();a.manage_conditional_field_options(r),e('.ur-input-type-select2 .ur-field[data-field-key="select2"] select, .ur-input-type-multi-select2 .ur-field[data-field-key="multi_select2"] select').selectWoo();var l=e(n),d=l.find(".ur-field").data("field-key"),c=l.find('.ur-general-setting.ur-general-setting-field-name input[name="ur_general_setting[field_name]"]').val(),u=l.find(".ur-label label").contents().filter(function(){return 3===this.nodeType}).text().trim(),_=l.find('select.ur_advance_setting.ur-settings-field-visibility[name="'+d+'_advance_setting[field_visibility]"]').val();e(document.body).trigger("ur_new_field_created",[{fieldKey:d,fieldName:c,label:u,visibleTo:_}])}}).fail(function(){a.show_message(t.ajax_form_submit_error_on_field_drag,"error")})}},l={register:function(){this.register_add_new_row(),this.register_remove_row(),this.change_ur_grids(),this.remove_selected_item(),this.clone_selected_item()},register_add_new_row:function(){var t=this;e("body").on("click",".ur-add-new-row",function(){var n=e(this).closest(".ur-row-buttons").attr("data-total-rows");n=void 0!==n?parseInt(n):0,e(this).closest(".ur-row-buttons").attr("data-total-rows",n+1);var a=e(this).closest(".ur-input-grids").find(".ur-single-row").eq(0).clone();a.attr("data-row-id",n+1),a.find(".ur-grid-lists").html(""),a.find(".ur-grids").find("span").removeClass("ur-active-grid"),a.find(".ur-grids").find('span[data-id="'+i.active_grid+'"]').addClass("ur-active-grid");var r=s.get_grid_lists(i.active_grid);if(a.find(".ur-grid-lists").append(r.html()),a.insertBefore(".ur-row-buttons"),a.show(),t.render_draggable_sortable(),s.manage_empty_grid(),e(this).hasClass("ur-add-repeater-row")){a.addClass("ur-repeater-row");var l=e(this).closest(".ur-input-grids").find(".ur-repeater-row").length,o='<div class="ur-repeater-label"  id="user_registration_repeater_row_title_'+l+'"><label>Repeater Row</label></div>';a.attr("data-repeater-id",l),e(o).insertBefore(a.find(".ur-grid-lists"))}e(document).trigger("user_registration_row_added",[a])})},register_remove_row:function(){var i=this;e("body").on("click",".ur-remove-row",function(){if(e(".ur-input-grids").find(".ur-single-row:visible").length>1){var n=e(this);ur_confirmation(t.i18n_admin.i18n_are_you_sure_want_to_delete_row,{title:t.i18n_admin.i18n_msg_delete,confirm:function(){var t,a=n.prev();(t=a.hasClass("ur-add-new-row")?a.clone():n.clone().attr("class","dashicons-minus ur-remove-row")).hasClass("ur-add-new-row")&&n.closest(".ur-single-row").prev().find(".ur-remove-row").before(t);var r=n.closest(".ur-single-row");e(document).trigger("user_registration_row_deleted",[r]);var l=r.find(".ur-grid-lists .ur-selected-item .ur-general-setting");e(l).each(function(){e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-label label").text();var t=e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-field").data("field-key");if("section_title"!=t&&"html"!=t&&"wysiwyg"!=t&&"billing_address_title"!=t&&"shipping_address_title"!=t){var i=e(this).find("[data-field='field_name']").val();void 0!==i&&(e('[class*="urcl-settings-rules_field_"] option[value="'+i+'"]').remove(),e('[class*="urcl-field-conditional-field-select"] option[value="'+i+'"]').remove(),e('[id="user_registration_form_setting_default_phone_field"] option[value="'+i+'"]').remove())}}),r.remove(),i.check_grid(),s.manage_draggable_users_fields(),Swal.fire({icon:"success",title:"Successfully deleted!",customClass:"user-registration-swal2-modal user-registration-swal2-modal--center user-registration-swal2-no-button",showConfirmButton:!1,timer:1e3})},reject:function(){}})}else a.ur_alert(t.i18n_admin.i18n_at_least_one_row_is_required_to_create_a_registration_form,{title:t.i18n_admin.i18n_cannot_delete_row})})},change_ur_grids:function(){var t=this;e(document).on("click",".ur-grids .ur-edit-grid",function(t){t.stopPropagation(),e(this).siblings(".ur-toggle-grid-content").stop(!0).slideToggle(200)}),e(document).on("click",function(){e(".ur-toggle-grid-content").stop(!0).slideUp(200)}),e(document).on("click",".ur-grids .ur-toggle-grid-content .ur-grid-selector",function(){var i=e(this).closest(".ur-single-row"),n=e(this).attr("data-grid"),a=i.find(".ur-grid-lists .ur-grid-list-item").length,r=s.get_grid_lists(n),l=0;i.find(".ur-grid-lists .ur-grid-list-item").length!==parseInt(n)&&(i.find("button.ur-edit-grid").html(e(this).html()),e.each(i.find(".ur-grid-lists .ur-grid-list-item"),function(){e(this).children("*").each(function(){r.find(".ur-grid-list-item").eq(l).append(e(this).clone()),3===parseInt(e(this).parent().attr("ur-grid-id"))&&3===parseInt(a)&&2===parseInt(n)&&(l=Math.abs(--l))}),(parseInt(n)>a||e(this).children("*").length&&2<=parseInt(n))&&(l=parseInt(n)<=++l?0:l)}),i.find(".ur-grid-lists").eq(0).hide(),r.clone().insertAfter(i.find(".ur-grid-lists")),i.find(".ur-grid-lists").eq(0).remove(),t.render_draggable_sortable(),s.manage_empty_grid())})},render_draggable_sortable:function(){e(".ur-grid-list-item").sortable({containment:".ur-input-grids",over:function(){e(this).addClass("ur-sortable-active"),s.manage_empty_grid()},out:function(){e(this).removeClass("ur-sortable-active"),s.manage_empty_grid()},connectWith:".ur-grid-list-item"}).disableSelection(),e(".ur-input-grids").sortable({containment:".ur-builder-wrapper",tolerance:"pointer",placeholder:"ur-single-row",forceHelperSize:!0,over:function(){e(this).addClass("ur-sortable-active")},out:function(){e(this).removeClass("ur-sortable-active")}}),e("#ur-draggabled .draggable").draggable({connectToSortable:".ur-grid-list-item",containment:".ur-registered-from",helper:function(){return e(this).clone().insertAfter(e(this).closest(".ur-tab-contents").siblings(".ur-tab-lists"))},stop:function(i,n){if(0!==e(n.helper).closest(".ur-grid-list-item").length){var r=e(n.helper).attr("data-field-id").replace("user_registration_","").trim(),l=e(".ur-input-grids").find('.ur-field[data-field-key="'+r+'"]').length,o=e.makeArray(t.form_one_time_draggable_fields),d=e.makeArray(t.form_repeater_row_not_droppable_fields_lists);if(l>0&&e.inArray(r,o)>=0)return show_message(t.i18n_admin.i18n_user_required_field_already_there),void e(n.helper).remove();if(n.helper.closest(".ur-repeater-row").length>0&&e.inArray(r,d)>=0)return a.show_message(t.i18n_admin.i18n_repeater_fields_not_droppable.replace("%field%",e("li[data-field-id='user_registration_"+r+"']:first").text())),void e(n.helper).remove();var c=e(n.helper),u=e(c).attr("data-field-id");if(void 0!==u){var _=e(n.helper).closest(".ur-grid-list-item").find('li[data-field-id="'+e(this).attr("data-field-id")+'"]');s.populate_dropped_node(_,u)}}}}).disableSelection()},remove_selected_item:function(){var i=this;e("body").on("click",".ur-selected-item .ur-action-buttons .ur-trash",function(a){var r=e(this).closest(".ur-selected-item ").find("[data-field='field_name']").val(),l=i,o=e(this),d=o.closest(".ur-selected-item").find(".ur-field").data("field-key"),c=o.closest(".ur-selected-item").find('.ur-general-setting.ur-general-setting-field-name input[name="ur_general_setting[field_name]"]').val(),u=o.closest(".ur-selected-item").find(".ur-label label").contents().filter(function(){return 3===this.nodeType}).text().trim(),_=e("#user_registration_pro_auto_password_activate").is(":checked");if(e.inArray(d,t.ur_form_non_deletable_fields)>-1){if("user_pass"===d&&!_)return void n(d,u);if("user_pass"!==d)return void n(d,u)}ur_confirmation(t.i18n_admin.i18n_are_you_sure_want_to_delete_field,{title:t.i18n_admin.i18n_msg_delete,showCancelButton:!0,confirmButtonText:t.i18n_admin.i18n_choice_ok,cancelButtonText:t.i18n_admin.i18n_choice_cancel,ele:l,$ele:o,removed_item:r,confirm:function(){return o.closest(".ur-selected-item ").remove(),l.check_grid(),s.manage_empty_grid(),s.manage_draggable_users_fields(),e('[class*="urcl-settings-rules_field_"] option[value="'+r+'"]').remove(),e('[class*="urcl-field-conditional-field-select"] option[value="'+r+'"]').remove(),e('[id="user_registration_form_setting_default_phone_field"] option[value="'+r+'"]').remove(),e(document.body).trigger("ur_field_removed",[{fieldName:c,fieldKey:d,label:u}]),!1},reject:function(){return!1}})})},clone_selected_item:function(){e("body").on("click",".ur-selected-item .ur-action-buttons  .ur-clone",function(){var i=e(this).closest(".ur-selected-item ").find(".ur-field").attr("data-field-key");if(e(".ur-input-grids").find('.ur-field[data-field-key="'+i+'"]').length>0&&e.inArray(i,t.form_one_time_draggable_fields)>-1)a.show_message(t.i18n_admin.i18n_user_required_field_already_there_could_not_clone);else{var n=e(this).closest(".ur-selected-item ").clone(),r=n.find('input[data-field="field_name"]'),s=r.val().match(/\d+/g),l=s.length>0?s[s.length-1]:"",o=r.val().replace(l,"");n.find('input[data-field="field_name"]').attr("value",o+(new Date).getTime()),e(this).closest(".ur-grid-list-item").append(n);var d=n.find("[data-field='field_name']").val();a.manage_conditional_field_options(d)}})},check_grid:function(){e(".ur-tabs").tabs({disabled:[1]}),e(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"])}};s.init(),l.register()})},e(".ur-input-grids").ur_form_builder(),e(".ur-tabs .ur-tab-lists").on("click","a.nav-tab",function(){e(".ur-tabs .ur-tab-lists").find("a.nav-tab").removeClass("active"),e(this).addClass("active")}),e(".ur-tabs").tabs(),e(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"]),e(".ur-tabs").tabs({disabled:[1]})},manage_conditional_field_options:function(i){e(".ur-grid-lists .ur-selected-item .ur-general-setting").each(function(){var n=e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-label label").text(),a=e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-field").data("field-key");if("section_title"!=a&&"html"!=a&&"wysiwyg"!=a&&"billing_address_title"!=a&&"shipping_address_title"!=a){var r=e(this).find("[data-field='field_name']").val();if(void 0!==r){!1===e(".urcl-field-conditional-field-select option[value='"+r+"']").length>0&&e('[class*="urcl-field-conditional-field-select"]').append('<option value ="'+r+'" data-type="'+a+'">'+n+" </option>");if(!1===e(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1 option[value='"+r+"']").length>0?(e('[class*="urcl-settings-rules_field_"]').append('<option value ="'+r+'" data-type="'+a+'">'+n+" </option>"),r==i&&e('.urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields option[value="'+i+'"]').remove()):e(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields").append('<option value ="'+r+'" data-type="'+a+'">'+n+" </option>"),"phone"===a)if(0>=e("#user_registration_form_setting_default_phone_field").length){var s='<div class="form-row ur-enhanced-select" id="user_registration_form_setting_default_phone_field_field" data-priority="">';s+='<label for="user_registration_form_setting_default_phone_field" class="ur-label">'+t.i18n_admin.i18n_default_phone_field+"</label>",s+='<select data-rules="" data-id="user_registration_form_setting_default_phone_field" name="user_registration_form_setting_default_phone_field" id="user_registration_form_setting_default_phone_field" class="select " data-allow_clear="true" data-placeholder="">',s+='<option value="'+r+'">'+n+"</option>",s+="</select></div>",e("#user_registration_form_setting_login_options_field").after(s),"sms_verification"===e("#user_registration_form_setting_login_options").val()?e("#user_registration_form_setting_default_phone_field").parent().show():e("#user_registration_form_setting_default_phone_field").parent().hide()}else e('#user_registration_form_setting_default_phone_field option[value="'+r+'"]').remove(),e("#user_registration_form_setting_default_phone_field").append('<option value ="'+r+'">'+n+" </option>")}}}),e(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields").removeClass("empty-fields")},handle_selected_item:function(t){e(".ur-selected-item").removeClass("ur-item-active"),e(t).addClass("ur-item-active"),a.render_advance_setting(e(t)),a.init_events(),e(document).trigger("update_perfect_scrollbar");var i=e(t).find(".ur-field").data("field-key");if(e(document).trigger("user_registration_handle_selected_item",[t]),"country"===i||"billing_country"===i||"shipping_country"===i){var n=e("#ur-setting-form select.ur-settings-selected-countries");n.on("change",function(t){var i=e(this).val(),n="<option value=''>"+user_registration_form_settings_params.ur_default_country_value_option+"</option>",a=this;Array.isArray(i)&&i.forEach(function(t){var i=e(a).find('option[value="'+t+'"]').html();n+='<option value="'+t+'">'+i+"</option>"}),e("#ur-setting-form select.ur-settings-default-value").html(n),e(".ur-selected-item.ur-item-active select.ur-settings-default-value").html(n)}).select2({placeholder:"Select countries...",selectionAdapter:r,dropdownAdapter:s,templateResult:function(t){return t.id?e("<div></div>").text(t.text).addClass("wrap"):t.text},templateSelection:function(e){if(!e.id)return e.text;var t=0;return n.val()&&(t=n.val().length),"Selected "+t+" country(s)"}}).on("change",function(t){e(".urcl-rules, .urcl-conditional-group").each(function(){var t=e(this).find(".urcl-field").length?e(this).find(".urcl-field"):e(this).find(".urcl-form-group"),i=t.find("select option:selected").data("type");if("country"===i||"billing_country"===i||"shipping_country"===i){var n=t.find("select option:selected").val(),a=e(this).find(".urcl-value select").val(),r=e('.ur-general-setting-field-name input[value="'+n+'"').closest(".ur-selected-item").find(".ur-advance-selected_countries select option:selected"),s=[];e(this).find(".urcl-value select").html('<option value="">--select--</option>'),r.each(function(){var t=e(this).val(),i=e(this).text();s.push('<option value="'+t+'">'+i+"</option>")}),e(this).find(".urcl-value select").append(s.join("")),e(this).find(".urcl-value select").val(a),e(this).find('.urcl-value select option[value="'+a+'"]').attr("selected","selected")}})}).on("select2:close",function(t){setTimeout(function(){e(":focus").trigger("blur")},1)})}e(document.body).trigger("ur_rendered_field_options"),e(document.body).trigger("init_tooltips"),e(document.body).trigger("init_field_options_toggle")},render_advance_setting:function(t){var i=t.find(".ur-advance-setting-block").clone(),n=t.find(".ur-general-setting-block").clone(),a=e("<form id='ur-setting-form'/>");e("#ur-tab-field-options").html(""),a.append(n),a.append(i),e("#ur-tab-field-options").append(a),e("#ur-tab-field-options").find(".ur-advance-setting-block").show(),e("#ur-tab-field-options").find(".ur-general-setting-block").show(),1===e(".ur-item-active").length&&(e(".ur-tabs").tabs().tabs("enable",1),e(".ur-tabs").find("a").eq(1).trigger("click",["triggered_click"])),e(".ur-options-list").sortable({containment:".ur-general-setting-options"})},init_events:function(){var t=e(".ur-general-setting-field");e.each(t,function(){var t=e(this);switch(t.attr("data-field")){case"label":t.on("keyup",function(){a.trigger_general_setting_label(e(this))});break;case"field_name":case"max_files":case"input_mask":case"hidden_value":case"custom_class":t.on("change",function(){a.trigger_general_setting_field_name(e(this))});case"default_value":t.on("change",function(){"default_value"===t.attr("data-field")&&(t.closest(".ur-general-setting-block").hasClass("ur-general-setting-select")?a.render_select_box(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?a.render_radio(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?a.render_check_box(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")?a.render_multiple_choice(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-subscription_plan")&&a.render_subscription_plan(e(this)))});break;case"options":t.on("keyup",function(){(t.closest(".ur-general-setting-block").hasClass("ur-general-setting-select")||t.closest(".ur-general-setting-block").hasClass("ur-general-setting-select2"))&&t.siblings('input[data-field="default_value"]').length>0?a.render_select_box(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-multi_select2")&&t.siblings('input[data-field="default_value"]').length>0?a.render_multi_select_box(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?a.render_radio(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?a.render_check_box(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")?a.render_multiple_choice(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-subscription_plan")&&a.render_subscription_plan(e(this)),a.trigger_general_setting_options(e(this))}),t.on("change",function(){t.closest(".ur-general-setting-block").hasClass("ur-general-setting-subscription_plan")&&a.render_subscription_plan(e(this))}),e(".ur-radio-enable-trail-period").each(function(){e(this).is(":checked")?e(this).closest(".ur-subscription-plan").find(".ur-subscription-trail-period-option").show():e(this).closest(".ur-subscription-plan").find(".ur-subscription-trail-period-option").hide(),e(this).on("change",function(){e(this).is(":checked")?e(this).closest(".ur-subscription-plan").find(".ur-subscription-trail-period-option").show():e(this).closest(".ur-subscription-plan").find(".ur-subscription-trail-period-option").hide()})}),e(".ur-radio-enable-expiry-date").each(function(){e(this).is(":checked")?e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").show():(e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").hide(),e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").find(".ur-subscription-expiry-date").val("")),e(this).on("change",function(){e(this).is(":checked")?(e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").show(),e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").find(".ur-subscription-expiry-date").val("")):(e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").hide(),e(this).closest(".ur-subscription-plan").find(".ur-subscription-expiry-option").find(".ur-subscription-expiry-date").val(""))})});break;case"selling_price":t.is(":checked")||e(this).closest(".ur-general-setting-block").find(".ur-selling-price").hide(),t.on("change",function(){e(this).closest(".ur-general-setting-block").find(".ur-selling-price").toggle(),e(".ur-selected-item.ur-item-active").find(".ur-general-setting-block").find(".ur-selling-price").toggle()}),t.on("change",function(){a.trigger_general_setting_selling_price(e(this))});break;case"trail_period":t.is(":checked")||e(this).closest(".ur-general-setting-block").find(".ur-subscription-trail-period-option").hide(),t.on("change",function(){e(this).closest(".ur-general-setting-block").find(".ur-subscription-trail-period-option").toggle(),e(".ur-selected-item.ur-item-active").find(".ur-general-setting-block").find(".ur-subscription-trail-period-option").toggle()}),t.on("change",function(){a.trigger_general_setting_trail_period(e(this))});break;case"placeholder":t.on("keyup",function(){a.trigger_general_setting_placeholder(e(this))});break;case"required":t.on("change",function(){a.trigger_general_setting_required(e(this))});break;case"hide_label":t.on("change",function(){a.trigger_general_setting_hide_label(e(this))});break;case"description":case"html":t.on("keyup",function(){a.trigger_general_setting_description(e(this))})}e(document.body).trigger("ur_general_field_settings_to_update_form_fields_in_builder",[t])});var i=e("#ur-setting-form .ur_advance_setting");e(".ur-settings-enable-min-max").on("change",function(){e(this).is(":checked")?(e(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").show(),e(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").show(),e("#ur-setting-form .ur-settings-min-date").addClass("flatpickr-field").flatpickr({disableMobile:!0,onChange:function(t,i,n){e(".ur-item-active .ur-settings-min-date").val(i)},onOpen:function(t,i,n){n.set("maxDate",e(".ur-item-active .ur-settings-max-date").val())}}),e("#ur-setting-form .ur-settings-max-date").addClass("flatpickr-field").flatpickr({disableMobile:!0,onChange:function(t,i,n){e(".ur-item-active .ur-settings-max-date").val(i)},onOpen:function(t,i,n){n.set("minDate",e(".ur-item-active .ur-settings-min-date").val())}})):(e(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").hide(),e(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").hide())}),e.each(i,function(){var t=e(this);switch(t.attr("data-advance-field")){case"step":t.on("keyup keydown",function(){t.attr("step",t.val())});break;case"limit_length":case"minimum_length":t.on("change",function(){a.handle_min_max_length(t)}),a.handle_min_max_length(t);break;case"date_format":t.on("change",function(){a.trigger_general_setting_date_format(e(this))});break;case"min_date":e(".ur-item-active").find(".ur-settings-enable-min-max").is(":checked")?e(this).addClass("flatpickr-field").flatpickr({disableMobile:!0,defaultDate:new Date(e(".ur-item-active").find(".ur-settings-min-date").val()),onChange:function(t,i,n){e(".ur-item-active").find(".ur-settings-min-date").val(i)},onOpen:function(t,i,n){n.set("maxDate",new Date(e(".ur-item-active").find(".ur-settings-max-date").val()))}}):e(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").hide();break;case"max_date":e(".ur-item-active").find(".ur-settings-enable-min-max").is(":checked")?e(this).addClass("flatpickr-field").flatpickr({disableMobile:!0,defaultDate:new Date(e(".ur-item-active").find(".ur-settings-max-date").val()),onChange:function(t,i,n){e(".ur-item-active").find(".ur-settings-max-date").val(i)},onOpen:function(t,i,n){n.set("minDate",new Date(e(".ur-item-active .ur-settings-min-date").val()))}}):e(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").hide();break;case"enable_prepopulate":t.is(":checked")?e(this).closest(".ur-advance-setting-block").find(".ur-advance-parameter_name").show():e(this).closest(".ur-advance-setting-block").find(".ur-advance-parameter_name").hide(),t.on("click",function(){var t=e(".ur-selected-item.ur-item-active"),i=e(this).closest("#ur-setting-form").find("[data-field='field_name']").val(),n=t.find("[data-field='field_name']").val();t.find(".ur-advance-setting-block").find('input[data-field="'+e(this).attr("data-field")+'"]').prop("checked",e(this).is(":checked")),i===n&&(e(this).is(":checked")?(e(this).closest(".ur-advance-setting-block").find(".ur-advance-parameter_name").show(),e(".ur-selected-item.ur-item-active").find(".ur-advance-parameter_name").show()):(e(this).closest(".ur-advance-setting-block").find(".ur-advance-parameter_name").hide(),e(".ur-selected-item.ur-item-active").find(".ur-advance-parameter_name").hide()))});break;case"autocomplete_address":t.is(":checked")?e(this).closest(".ur-advance-setting-block").find(".ur-advance-address_style").show():e(this).closest(".ur-advance-setting-block").find(".ur-advance-address_style").hide(),t.on("click",function(){var t=e(".ur-selected-item.ur-item-active"),i=e(this).closest("#ur-setting-form").find("[data-field='field_name']").val(),n=t.find("[data-field='field_name']").val();t.find(".ur-advance-setting-block").find('input[data-field="'+e(this).attr("data-field")+'"]').prop("checked",e(this).is(":checked")),i===n&&(e(this).is(":checked")?(e(this).closest(".ur-advance-setting-block").find(".ur-advance-address_style").show(),e(".ur-selected-item.ur-item-active").find(".ur-advance-address_style").show()):(e(this).closest(".ur-advance-setting-block").find(".ur-advance-address_style").hide(),e(".ur-selected-item.ur-item-active").find(".ur-advance-address_style").hide()))});break;case"validate_unique":t.is(":checked")?e(this).closest(".ur-advance-setting-block").find(".ur-advance-validation_message").show():e(this).closest(".ur-advance-setting-block").find(".ur-advance-validation_message").hide(),t.on("click",function(){var t=e(".ur-selected-item.ur-item-active"),i=e(this).closest("#ur-setting-form").find("[data-field='field_name']").val(),n=t.find("[data-field='field_name']").val();t.find(".ur-advance-setting-block").find('input[data-field="'+e(this).attr("data-field")+'"]').prop("checked",e(this).is(":checked")),i===n&&(e(this).is(":checked")?(e(this).closest(".ur-advance-setting-block").find(".ur-advance-validation_message").show(),e(".ur-selected-item.ur-item-active").find(".ur-advance-validation_message").show()):(e(this).closest(".ur-advance-setting-block").find(".ur-advance-validation_message").hide(),e(".ur-selected-item.ur-item-active").find(".ur-advance-validation_message").hide()))});break;case"enable_selling_price_single_item":t.is(":checked")||e(this).closest(".ur-advance-setting-block").find(".ur-advance-selling_price").hide(),t.on("change",function(){e(this).closest(".ur-advance-setting-block").find(".ur-advance-selling_price").toggle(),e(".ur-selected-item.ur-item-active").find(".ur-advance-selling_price").toggle()});break;case"enable_pattern":t.is(":checked")||(e(this).closest(".ur-advance-setting-block").find(".ur-advance-pattern_value").hide(),e(this).closest(".ur-advance-setting-block").find(".ur-advance-pattern_message").hide()),t.on("change",function(){e(this).closest(".ur-advance-setting-block").find(".ur-advance-pattern_value").toggle(),e(this).closest(".ur-advance-setting-block").find(".ur-advance-pattern_message").toggle()});break;case"enable_time_slot_booking":var i=t.closest("form").find(".ur-general-setting-timepicker").find(".ur-general-setting-required").find("input");t.is(":checked")||e(this).closest(".ur-advance-setting-block").find(".ur-advance-target_date_field").hide(),t.is(":checked")&&(i.is(":checked")||(i.trigger("click"),i.attr("checked",!0)),e(this).closest(".ur-advance-setting-block").find(".ur-settings-time_range").is(":checked")||(e(this).closest(".ur-advance-setting-block").find(".ur-settings-time_range").trigger("click"),e(this).closest(".ur-advance-setting-block").find(".ur-settings-time_range").attr("checked",!0)),e(this).closest(".ur-advance-setting-block").find(".ur-advance-time_range").hide()),t.on("change",function(){t.is(":checked")&&(i.is(":checked")||(i.trigger("click"),i.attr("checked",!0))),e(this).closest(".ur-advance-setting-block").find(".ur-advance-target_date_field").toggle(),e(this).is(":checked")?(e(this).closest(".ur-advance-setting-block").find(".ur-settings-time_range").is(":checked")||(e(this).closest(".ur-advance-setting-block").find(".ur-settings-time_range").trigger("click"),e(this).closest(".ur-advance-setting-block").find(".ur-settings-time_range").attr("checked",!0)),e(this).closest(".ur-advance-setting-block").find(".ur-advance-time_range").hide()):e(this).closest(".ur-advance-setting-block").find(".ur-advance-time_range").show()});break;case"enable_date_slot_booking":i=t.closest("form").find(".ur-general-setting-date").find(".ur-general-setting-required").find("input");t.is(":checked")&&(i.is(":checked")||(i.trigger("click"),i.attr("checked",!0))),t.on("change",function(){t.is(":checked")&&(i.is(":checked")||(i.trigger("click"),i.attr("checked",!0)))})}var n=t.get(0).tagName.toLowerCase();"country_advance_setting_default_value"===t.attr("data-id")&&e(".ur-builder-wrapper #ur-input-type-country").find('option[value="'+t.val()+'"]').attr("selected","selected");var r="change";switch(n){case"input":r="keyup click";break;case"select":r="change";break;case"textarea":r="keyup";break;default:r="change"}"valid_file_type"!==t.attr("data-advance-field")&&"payment_methods"!==t.attr("data-advance-field")||t.select2(),e(this).on(r,function(){a.trigger_advance_setting(t,n)}),e(this).on("paste",function(){a.trigger_advance_setting(t,n)})})},handle_min_max_length:function(e){var t=e.closest(".ur-advance-setting").next(".ur-advance-setting");e.is(":checked")?(t.show(),t.next(".ur-advance-setting").show()):(t.hide(),t.next(".ur-advance-setting").hide())},trigger_general_setting_label:function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-label").find("label").text(t.val()),e(".ur-selected-item.ur-item-active .ur-general-setting").find("[data-field='required']").is(":checked")&&i.find(".ur-label").find("label").append('<span style="color:red">*</span>'),i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').attr("value",t.val());var n=e(".ur-selected-item.ur-item-active .ur-general-setting").find("[data-field='field_name']").val();e('[class*="urcl-settings-rules_field_"] option[value="'+n+'"]').text(t.val()),e('[class*="urcl-field-conditional-field-select"] option[value="'+n+'"]').text(t.val()),e('[id="user_registration_form_setting_default_phone_field"] option[value="'+n+'"]').text(t.val())},trigger_general_setting_field_name:function(t){var i=e(".ur-selected-item.ur-item-active"),n=i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').attr("value");i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').attr("value",t.val()),e('[class*="urcl-settings-rules_field_"] option[value="'+n+'"]').attr("value",t.val()),e('[class*="urcl-field-conditional-field-select"] option[value="'+n+'"]').attr("value",t.val()),e('[id="user_registration_form_setting_default_phone_field"] option[value="'+n+'"]').attr("value",t.val())},render_text_area:function(t){var i=e(".ur-selected-item.ur-item-active").find(".ur-field");switch(i.attr("data-field-key")){case"select":a.render_select_box(t);break;case"checkbox":a.render_check_box(t);break;case"radio":a.render_radio(t);break;case"multiple_choice":a.render_multiple_choice(t);break;case"subscription_plan":a.render_subscription_plan(t)}e(document.body).trigger("ur_sync_textarea_field_settings_in_selected_field_of_form_builder",[i,t])},render_select_box:function(t){var i="";if(t.is(":checked"))i=t.val().trim();var n=e(".ur-selected-item.ur-item-active"),a=t.closest("li").index(),r=n.find(".ur-field").find("select");t.hasClass("ur-type-radio-label")&&(i=r.val());var s=t.closest(".ur-general-setting-options").find("input.ur-general-setting-field.ur-type-radio-label").map(function(){return e(this).val()});r.html(""),e.each(s,function(e,t){r.append("<option value='"+t+"' "+(i===t?"selected":"")+">"+t+"</option>")}),n.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(t,i){var n=e(i).find('[data-field="default_value"]');t===a?n.prop("checked",!0):n.prop("checked",!1)})},render_multi_select_box:function(t){var i="";if(t.is(":checked"))i=t.val().trim();var n=e(".ur-selected-item.ur-item-active"),a=t.closest("li").index(),r=n.find(".ur-field").find("select");t.hasClass("ur-type-checkbox-label")&&(i=r.val());var s=t.closest(".ur-general-setting-options").find("input.ur-general-setting-field.ur-type-checkbox-label").map(function(){return e(this).val()});r.html(""),e.each(s,function(e,t){r.append("<option value='"+t+"' "+(i===t?"selected":"")+">"+t+"</option>")}),n.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(t,i){var n=e(i).find('[data-field="default_value"]');t===a?n.prop("checked",!0):n.prop("checked",!1)})},render_radio:function(i){var n=i.closest("ul").find("li"),a=undefined,r=i.closest(".ur-general-setting-options").siblings(".ur-general-setting-image_choice").find("input"),s=[];n.each(function(t,i){var n=e(i).find("input.ur-type-radio-label").val();n=(n=n.trim()).replace(/<\/?[^>]+(>|$)/g,""),o=e(i).find("input.ur-type-radio-value").is(":checked");var r=e(i).find("input.ur-type-image-choice").val();!0===o&&(a=t),s.every(function(e){return e.value!==n})&&s.push({value:n,radio:o,image:r})});var l=e(".ur-selected-item.ur-item-active"),o=l.find(".ur-field");o.html("");for(var d=0;d<s.length;d++){var c="";r.is(":checked")&&(c=s[d].image&&""!==s[d].image.trim()?'<img src="'+s[d].image+'" width="200px">':'<img src="'+t.ur_placeholder+'" width="200px">'),""!==s[d]&&($checked_class="",r.is(":checked")&&($checked_class=s[d].radio?"ur-image-choice-checked":""),o.append('<label class="'+$checked_class+'"><span class="user-registration-image-choice">'+c+'</span><input value="'+s[d].value.trim()+'" type="radio" '+(s[d].radio?"checked":"")+" disabled>"+s[d].value.trim()+"</label>"))}l.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(t,i){var n=e(i).find('[data-field="default_value"]');t===a?n.prop("checked",!0):n.prop("checked",!1)})},render_check_box:function(i){var n=[],a=i.closest("ul").find("li"),r=i.closest("li").index(),s=i.closest(".ur-general-setting-options").siblings(".ur-general-setting-image_choice").find("input");a.each(function(t,i){var a=e(i).find("input.ur-type-checkbox-label").val();a=(a=(a=a.trim()).replace(/<(?!\/?a\b)[^>]+>/gi,"")).replace(/(?!href|target|download|rel|hreflang|type|name|accesskey|tabindex|title)\b\w+=['"][^'"]*['"]/g,""),/<a(?:(?!<\/a>).)*$/.test(a)&&(a+="</a>"),o=e(i).find("input.ur-type-checkbox-value").is(":checked");var r=e(i).find("input.ur-type-image-choice").val();n.every(function(e){return e.value!==a})&&n.push({value:a,checkbox:o,image:r})});var l=e(".ur-selected-item.ur-item-active"),o=l.find(".ur-field");o.html("");for(var d=0;d<n.length;d++){var c="";s.is(":checked")&&(c=n[d].image&&""!==n[d].image.trim()?'<img src="'+n[d].image+'" width="200px">':'<img src="'+t.ur_placeholder+'" width="200px">'),""!==n[d]&&(n[d].value=n[d].value.replaceAll('"',"'"),$checked_class="",s.is(":checked")&&($checked_class=n[d].checkbox?"ur-image-choice-checked":""),o.append('<label class="'+$checked_class+'"><span class="user-registration-image-choice">'+c+'</span><input value="'+n[d].value.trim()+'" type="checkbox" '+(n[d].checkbox?"checked":"")+" disabled>"+n[d].value.trim()+"</label>"))}"checkbox"===i.attr("type")&&(i.is(":checked")?l.find(".ur-general-setting-options li:nth("+r+') input[data-field="default_value"]').prop("checked",!0):l.find(".ur-general-setting-options li:nth("+r+') input[data-field="default_value"]').prop("checked",!1))},render_multiple_choice:function(i){var n=[],a=i.closest("ul").find("li"),r=i.closest("li").index(),s=i.closest(".ur-general-setting-options").siblings(".ur-general-setting-image_choice").find("input");a.each(function(t,i){var a=e(i).find("input.ur-type-checkbox-label").val(),r=e(i).find("input.ur-type-checkbox-money-input").val(),s=e(i).find("input.ur-checkbox-selling-price-input").val(),l=e(i).find("input.ur-type-image-choice").val(),d=e(i).find("input.ur-type-checkbox-money-input").attr("data-currency");a=a.trim(),r=r.trim(),s=s.trim(),l=l.trim(),d=d.trim(),o=e(i).find("input.ur-type-checkbox-value").is(":checked"),n.every(function(e){return e.label!==a})&&n.push({label:a,value:r,sell_value:s,image:l,currency:d,checkbox:o})});var l=e(".ur-selected-item.ur-item-active"),o=l.find(".ur-field");o.html("");for(var d=0;d<n.length;d++){var c="";s.is(":checked")&&(c=n[d].image&&""!==n[d].image.trim()?'<img src="'+n[d].image+'" width="200px">':'<img src="'+t.ur_placeholder+'" width="200px">'),""!==n[d]&&($checked_class="",s.is(":checked")&&($checked_class=n[d].checkbox?"ur-image-choice-checked":""),o.append('<label class="'+$checked_class+'"><span class="user-registration-image-choice">'+c+'</span><input value="'+n[d].label.trim()+'" type="checkbox" '+(n[d].checkbox?"checked":"")+" disabled>"+n[d].label.trim()+" - "+n[d].currency.trim()+" "+n[d].value.trim()+"</label>"))}"checkbox"===i.attr("type")&&(i.is(":checked")?l.find(".ur-general-setting-options li:nth("+r+') input[data-field="default_value"]').prop("checked",!0):l.find(".ur-general-setting-options li:nth("+r+') input[data-field="default_value"]').prop("checked",!1))},render_subscription_plan:function(t){var i=[],n=e(".ur-selected-item.ur-item-active"),a=t.closest("ul").find("li"),r=t.closest("li").index();a.each(function(t,a){var r=e(a).find("input.ur-type-radio-label").val(),l=e(a).find("input.ur-type-radio-money-input").val(),o=e(a).find("input.ur-radio-selling-price-input").val(),d=e(a).find("input.ur-radio-interval-count-input").val(),c=e(a).find(".ur-radio-recurring-period").val(),u=e(a).find("input.ur-radio-trail-interval-count-input").val(),_=e(a).find("input.ur-subscription-expiry-date").val(),f=e(a).find(".ur-radio-trail-recurring-period").val(),g=e(a).find(".ur-radio-enable-trail-period").prop("checked")?"on":"false";n.find(".ur-general-setting-options li:nth("+t+") .ur-radio-enable-trail-period").val(g);var p=e(a).find(".ur-radio-enable-expiry-date").prop("checked")?"on":"false";n.find(".ur-general-setting-options li:nth("+t+") .ur-radio-enable-expiry-date").val(p);var m=n.find(".ur-general-setting-options li:nth("+t+") .ur-radio-enable-expiry-date");"on"===m.val()?m.prop("checked",!0):m.prop("checked",!1),n.find(".ur-general-setting-options li:nth("+t+") .ur-radio-recurring-period").val(c),n.find(".ur-general-setting-options li:nth("+t+") .ur-radio-trail-recurring-period").val(f),n.find(".ur-general-setting-options li:nth("+t+") .ur-subscription-expiry-date").val(_);var h=e(a).find("input.ur-type-radio-money-input").attr("data-currency");r=r.trim(),l=l.trim(),o=o.trim(),h=h.trim(),s=e(a).find("input.ur-type-radio-value").is(":checked"),i.every(function(e){return e.label!==r})&&i.push({label:r,value:l,sell_value:o,interval_count:d,recurring_period:c,trail_interval_count:u,trail_recurring_period:f,trail_period_enable_val:g,subscription_expiry_enable:p,subscription_expiry_date:_,currency:h,checkbox:s})});var s=n.find(".ur-field");s.html("");for(var l=0;l<i.length;l++)""!==i[l]&&s.append('<label><input value="'+i[l].label.trim()+'" type="radio" '+(i[l].checkbox?"checked":"")+" disabled>"+i[l].label.trim()+" - "+i[l].currency.trim()+" "+i[l].value.trim()+"</label>");"radio"===t.attr("type")&&(t.is(":checked")?n.find(".ur-general-setting-options li:nth("+r+') input[data-field="default_value"]').prop("checked",!0):n.find(".ur-general-setting-options li:nth("+r+') input[data-field="default_value"]').prop("checked",!1))},trigger_general_setting_options:function(t){var i=e(".ur-selected-item.ur-item-active"),n=t.closest("li").index(),a=t.attr("data-field-name");"multiple_choice"===a||"subscription_plan"===a?i.find(".ur-general-setting-block li:nth("+n+') input[name="'+t.attr("name")+'"]').val(t.val()):"captcha"===t.attr("data-field-name")?i.find(".ur-general-setting-block li:nth("+n+') input[name="'+t.attr("name")+'"]').val(t.val()):i.find(".ur-general-setting-block li:nth("+n+') input[data-field="'+t.attr("data-field")+'"]').val(t.val()),i.find(".ur-general-setting-block li:nth("+n+') input[data-field="default_value"]').val(t.val()),t.closest("li").find('[data-field="default_value"]').val(t.val())},trigger_general_setting_selling_price:function(t){e(".ur-selected-item.ur-item-active").find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').prop("checked",t.is(":checked"))},trigger_general_setting_trail_period:function(t){e(".ur-selected-item.ur-item-active").find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').prop("checked",t.is(":checked"))},trigger_general_setting_description:function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-field").find("textarea").attr("description",t.val()),i.find(".ur-general-setting-block").find('textarea[data-field="'+t.attr("data-field")+'"]').val(t.val())},trigger_general_setting_placeholder:function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-field").find("input").attr("placeholder",t.val()),i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').val(t.val())},trigger_general_setting_required:function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').prop("checked",t.is(":checked")),i.find(".ur-label").find("label").find("span:contains(*)").remove(),t.is(":checked")&&i.find(".ur-label").find("label").append('<span style="color:red">*</span>')},trigger_general_setting_date_format:function(t){e(".ur-selected-item.ur-item-active").find(".ur-field").find("input").attr("placeholder",t.val())},trigger_general_setting_hide_label:function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').prop("checked",t.is(":checked")),t.is(":checked")?i.find(".ur-label").find("label").hide():i.find(".ur-label").find("label").show()},trigger_advance_setting:function(t,i){var n=e(".ur-selected-item.ur-item-active"),r=t.attr("data-id"),s=n.find(".ur-advance-setting-block").find('[data-id="'+r+'"]');switch(i){case"input":"checkbox"===t.attr("type")?s.prop("checked",t.is(":checked")):s.val(t.val());break;case"select":if(s.find("option").prop("selected",!1),t.prop("multiple")){var l=t.val();s.val(l)}else s.find('option[value="'+t.val()+'"]').prop("selected",!0);break;case"textarea":s.val(t.val()),a.render_text_area(t.val())}},ur_alert:function(e,t){void 0===t&&(t={}),Swal.fire({icon:"error",title:t.title,text:e,customClass:"user-registration-swal2-modal user-registration-swal2-modal--center"})},init_choice_field_options:function(){e(document).on("sortstop",".ur-options-list",function(t,i){var n=e(this);a.handle_options_sort(n)}),e(document).on("click",".ur-options-list .add",function(t){t.preventDefault();var i=e(this);a.add_choice_field_option(i)}),e(document).on("click",".ur-options-list .remove",function(t){t.preventDefault();var i=e(this);a.remove_choice_field_option(i)})},handle_options_sort:function(e){a.ur_clone_options(e),e.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?a.render_radio(e):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?a.render_check_box(e):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")?a.render_multiple_choice(e):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-subscription_plan")&&a.render_subscription_plan(e)},ur_clone_options:function(t){var i=t.clone(!0,!0),n=e(".ur-selected-item.ur-item-active").find(".ur-general-setting-options .ur-options-list");n.html(""),n.replaceWith(i)},add_choice_field_option:function(t,i){$this_obj=e(this);var n=e(".ur-selected-item.ur-item-active"),r=t.closest("li").index(),s=t.closest("li").clone(!0,!0);if(s.find("input.ur-subscription-expiry-date").attr("data-id","expiry-date-index-"+r+Math.floor(900*Math.random())+100),s.find('input[data-field="options"]').val(void 0!==i?i:""),s.find('input[data-field="default_value"]').prop("checked",!1),s.find('select[data-field="options"]').val(""),s.find(".ur-thumbnail-image img").attr("src",""),t.closest(".ur-general-setting-image-captcha-options").length>0)a.handle_add_image_captcha_group(t,n);else{r=t.closest("li").index();(s=t.closest("li").clone(!0,!0)).find('input[data-field="options"]').val(void 0!==i?i:""),s.find('input[data-field="default_value"]').prop("checked",!1),s.find('select[data-field="options"]').val(""),s.find(".ur-thumbnail-image img").attr("src",""),t.closest("li").after(s),n.find(".ur-general-setting-options .ur-options-list > li:nth( "+r+" )").after(s.clone(!0,!0)),t.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?a.render_radio(t):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?a.render_check_box(t):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")&&a.render_multiple_choice(t)}e(document.body).trigger("ur_field_option_changed",[{action:"add",wrapper:n},a,t])},remove_choice_field_option:function(t){var i=t.closest("ul"),n=i.find("li"),r=e(".ur-selected-item.ur-item-active"),s=t.closest("li").index();i.find("li").length>1&&(t.closest(".ur-general-setting-image-captcha-options").length>0?a.handle_remove_image_captcha_group(t,r,s):(r.find(".ur-general-setting-options .ur-options-list > li:nth( "+s+" )").remove(),t.closest("li").remove()),n.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?a.render_radio(n):n.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?a.render_check_box(n):n.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")?a.render_multiple_choice(n):n.closest(".ur-general-setting-block").hasClass("ur-general-setting-subscription_plan")&&a.render_subscription_plan(n)),e(document.body).trigger("ur_field_option_changed",[{action:"remove",wrapper:r},a,t])},handle_add_image_captcha_group:function(t,i){var n=parseInt(t.attr("data-last-group")),a=n+1;captcha_unique=t.closest("ul").attr("data-unique-captcha"),cloning_element=t.closest("ul").find('li[data-group="'+n+'"]').clone(!0,!0),cloning_element_icons=cloning_element.find(".icon-wrap"),cloning_element.attr("data-group",a),cloning_element.find(".ur-type-captcha-icon-tag").attr("name","ur_general_setting[captcha_image]["+a+"][icon_tag]"),cloning_element.find(".ur-type-captcha-icon-tag").val(""),cloning_element.find(".ur-type-captcha-icon-tag").attr("placeholder","Icon Tag"),e.each(cloning_element_icons,function(t,i){var n=t+1;e(i).find(".ur-captcha-icon-radio").attr("name","ur_general_setting[captcha_image]["+a+"][correct_icon]["+captcha_unique+"]"),e(i).find(".ur-captcha-icon-radio").prop("checked",!1),e(i).find(".captcha-icon").attr("name","ur_general_setting[captcha_image]["+a+"][icon-"+n+"]"),e(i).find(".captcha-icon").val(""),e(i).find(".captcha-icon").siblings("span").attr("class",""),e(i).find(".dashicons-picker").attr("data-icon-key","icon-"+n),e(i).find(".dashicons-picker").attr("data-group-id",a)}),t.closest("ul").find('li[data-group="'+n+'"]').after(cloning_element),t.attr("data-last-group",a),i.find(".ur-general-setting-image-captcha-options .ur-options-list > li:nth( "+n+" )").after(cloning_element.clone(!0,!0)),i.find(".ur-general-setting-image-captcha-options .ur-options-list .add-icon-group").attr("data-last-group",a)},handle_remove_image_captcha_group:function(t,i,n){i.find(".ur-general-setting-image-captcha-options .ur-options-list > li:nth( "+n+" )").remove();var a=i.find(".ur-general-setting-image-captcha-options .ur-options-list li.ur-custom-captcha"),r=t.closest("li").siblings(".ur-custom-captcha");t.closest("ul.ur-options-list").find(".add-icon-group").attr("data-last-group",parseInt(r.length)-1),t.closest("li").remove();var s=t.closest("ul.ur-options-list").attr("data-unique-captcha");e.each(a,function(t,i){e(i).attr("data-group",t),e(i).find(".ur-type-captcha-icon-tag").attr("name","ur_general_setting[captcha_image]["+t+"][icon_tag]");var n=e(i).find(".icon-wrap");e.each(n,function(i,n){var a=i+1;e(n).find(".captcha-icon").attr("name","ur_general_setting[captcha_image]["+t+"][icon-"+a+"]"),e(n).find(".ur-captcha-icon-radio").attr("name","ur_general_setting[captcha_image]["+t+"][correct_icon]["+s+"]"),e(n).find(".dashicons-picker").attr("data-icon-key","icon-"+a),e(n).find(".dashicons-picker").attr("data-group-id",t)})}),e.each(r,function(t,i){e(i).attr("data-group",t),e(i).find(".ur-type-captcha-icon-tag").attr("name","ur_general_setting[captcha_image]["+t+"][icon_tag]");var n=e(i).find(".icon-wrap");e.each(n,function(i,n){var a=i+1;e(n).find(".captcha-icon").attr("name","ur_general_setting[captcha_image]["+t+"][icon-"+a+"]"),e(n).find(".ur-captcha-icon-radio").attr("name","ur_general_setting[captcha_image]["+t+"][correct_icon]["+s+"]"),e(n).find(".dashicons-picker").attr("data-icon-key","icon-"+a),e(n).find(".dashicons-picker").attr("data-group-id",t)})}),i.find(".ur-general-setting-image-captcha-options .ur-options-list .add-icon-group").attr("data-last-group",parseInt(a.length)-1)}};a.init(),e(document).ready(function(){var t={};e(document.body).on("click",".ur-flatpickr-field",function(){var i=e(this).data("id"),n=t[i];if(!n){var a=e(this).closest(".ur-field-item").find("#formated_date").val();if(0<e(".ur-frontend-form").length)var r=e(".ur-frontend-form #"+i).attr("type","text").val(a);else r=e(".woocommerce-MyAccount-content #"+i).attr("type","text").val(a);e(this).attr("data-date-format",r.data("date-format")),e(this).attr("data-mode",r.data("mode")),e(this).attr("data-locale",r.data("locale")),e(this).attr("data-min-date",r.data("min-date")),e(this).attr("data-max-date",r.data("max-date")),e(this).attr("data-default-date",a),n=e(this).flatpickr({disableMobile:!0,onChange:function(t,n,a){e("#"+i).val(n)},onOpen:function(e,t,i){i.set("minDate",r.data("min-date")),i.set("maxDate",r.data("max-date"))}}),t[i]=n}n&&n.open()})}),e(document).on("click",".ur-toggle-heading",function(){e(this).hasClass("closed")?e(this).removeClass("closed"):e(this).addClass("closed"),e(this).parent(".user-registration-field-option-group").toggleClass("closed").toggleClass("open");var t=e(this).find(" ~ .ur-registered-list")[0];e(t).slideToggle(),e(this).siblings(".ur-toggle-content").stop().slideToggle()}),e(document.body).on("init_field_options_toggle",function(){e(".user-registration-field-option-group.closed").each(function(){e(this).find(".ur-toggle-content").hide()})}).trigger("init_field_options_toggle"),e(document.body).on("click",".ur-quick-links-content",function(e){e.stopPropagation()}),e(document.body).on("click",".ur-button-quick-links",function(t){t.stopPropagation(),e(".ur-quick-links-content").slideToggle()}),e(document.body).on("click",function(t){e(".ur-quick-links-content").is(":hidden")||e(".ur-quick-links-content").slideToggle()}),e(document).find("input[name='user_registration_form_setting_minimum_password_strength']").each(function(){e(this).on("click",function(){e(this).closest(".ur-radio-group-list").find(".active").removeClass("active"),e(this).closest(".ur-radio-group-list").find("input[name='user_registration_form_setting_minimum_password_strength']").prop("checked",!1),e(this).closest(".ur-radio-group-list--item").addClass("active"),e(this).prop("checked",!0)})}),e(document).on("click",function(){e(document).find(".ur-smart-tags-list").is(":visible")&&e(".ur-smart-tags-list").hide()}),e(".ur-smart-tags-list").hide(),e(document.body).on("click",".ur-smart-tags-list-button",function(t){t.stopPropagation(),e(".ur-smart-tags-list").hide(),e(this).parent().find(".ur-smart-tags-list").toggle("show")}),e(document.body).on("click",".ur-select-smart-tag",function(t){t.preventDefault();var n;input_value=e(this).parent().parent().parent().find("input").val(),n=e(this).data("key"),input_value=n;var a=e(this).parent().parent().parent().find("input"),r=a.data("advance-field"),s=a.data("field");i(r!==undefined?r:s,input_value),e(this).parent().parent().parent().find("input").val(input_value),e(document.body).find(".ur-smart-tags-list").hide()}),e(document.body).on("change",".ur_advance_setting.ur-settings-default-value",function(){input_value=e(this).val(),field_name=e(this).data("advance-field"),i(input_value)}),e(document.body).on("change",".ur-general-setting.ur-general-setting-hidden-value input",function(){input_value=e(this).val(),field_name=e(this).data("field"),i(input_value)}),e(document.body).on("change",".ur_advance_setting.ur-settings-pattern_value",function(){input_value=e(this).val(),field_name=e(this).data("advance-field"),i(input_value)});var r,s;e.fn.select2.amd.require(["select2/selection/single","select2/selection/placeholder","select2/dropdown","select2/dropdown/search","select2/dropdown/attachBody","select2/utils","select2/selection/eventRelay"],function(t,i,n,a,l,o,d){function c(){}function u(){}r=o.Decorate(t,i),r=o.Decorate(r,d),s=o.Decorate(n,a),s=o.Decorate(s,l),c.prototype.render=function(t){var i=this,n=t.call(this),a=e('<button class="button button-secondary button-medium ur-unselect-all-countries-button" type="button">Unselect All</button>');return a.on("click",function(){i.$element.val([]),i.$element.trigger("change"),i.trigger("close")}),n.find(".select2-dropdown").prepend(a),n},s=o.Decorate(s,c),u.prototype.render=function(t){var i=this,n=t.call(this),a=e('<button class="button button-secondary button-medium ur-select-all-countries-button" type="button">Select All</button>');return a.on("click",function(){var t=[];i.$element.find("option").each(function(){t.push(e(this).val())}),i.$element.val(t),i.$element.trigger("change"),i.trigger("close")}),n.find(".select2-dropdown").prepend(a),n},s=o.Decorate(s,u)}),e(document.body).on("input",'[data-advance-field="max_upload_size"], [data-field="max_files"]',function(){var t=e(this),i=t.val();i=i.replace(/[^0-9]/g,""),t.val(i)}),e(document).on("click",".ur-input-type-subscription_plan",function(){e(this).next(".ur-general-setting-subscription_plan").find(".ur-subscription-plan").each(function(t){var i="expiry-date-index-"+t;e(this).find(".ur-subscription-expiry-date").attr("data-id",i)})}),e(document.body).on("focusout",'[data-advance-field="max_upload_size"], [data-field="max_files"]',function(){var t=e(this),i=t.val();i=""===i||0===parseInt(i)?"":parseInt(i),t.val(i)})})}(jQuery,window.user_registration_form_builder_data);